#! /usr/bin/env ruby

# Rugex - A CLI to test regular expressions on Ruby
# Author: Lucas Caton - lucascaton at gmail

$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')

require 'optparse'
require 'rugex/string'

options = {}

optparse = OptionParser.new do |opts|
  opts.banner = "Usage:\n\nrugex <text> <regex>\n\nYou can use flags as such:"

  opts.on('-h', '--help', 'Display this screen') do
    puts opts
    exit
  end

  if ARGV.size < 2
    puts opts
    exit
  end
end

begin
  optparse.parse!
rescue OptionParser::InvalidOption => e
  puts e
  exit
end

text = ARGV[0]
regex_string = ARGV[1]
puts Rugex::String.new text, regex_string
